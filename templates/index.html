{% extends "layout.html" %}

{% block title %}PUMP - Music Player{% endblock %}

{% block content %}
<div class="sidebar">
    <div class="sidebar-header">
        <h2>PUMP</h2>
    </div>
    <div class="sidebar-content">
        <div class="sidebar-section">
            <h3>Browse</h3>
            <ul class="sidebar-nav">
                <li><a href="#" id="explore-link">Discover</a></li>
                <li><a href="#" id="recent-link">Recently Added</a></li>
                <li><a href="/settings" target="_blank">Settings</a></li>
            </ul>
        </div>
        
        <div class="sidebar-section">
            <h3>Playlists</h3>
            <ul id="playlist-list" class="sidebar-nav">
                <li class="loading">Loading playlists...</li>
            </ul>
            <button id="refresh-playlists" class="text-button">
                <span class="icon">â†»</span> Refresh
            </button>
        </div>
    </div>
</div>
    
<div class="main-content">
    <div class="search-container">
        <input type="text" id="search-input" placeholder="Search for artists, albums, or tracks...">
        <button id="search-button">Search</button>
    </div>
    
    <div class="results-container">
        <h2>Search Results</h2>
        <div id="search-results"></div>
    </div>
    
    <div class="playlist-container">
        <div class="playlist-header">
            <h2>Current Playlist</h2>
            <div class="playlist-actions">
                <button id="save-playlist-btn" class="primary-button" disabled>Save Playlist</button>
            </div>
        </div>
        <div id="playlist"></div>
    </div>
    
    <!-- Save Playlist Modal -->
    <div id="save-playlist-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Save Playlist</h2>
            <form id="save-playlist-form">
                <div class="form-group">
                    <label for="playlist-name">Playlist Name:</label>
                    <input type="text" id="playlist-name" name="playlist-name" required>
                </div>
                <div class="form-group">
                    <label for="playlist-description">Description (optional):</label>
                    <textarea id="playlist-description" name="playlist-description" rows="3"></textarea>
                </div>
                <button type="submit" class="primary-button">Save</button>
            </form>
        </div>
    </div>
    
    <div class="player-controls">
        <div id="now-playing"></div>
        <div class="controls">
            <button id="prev-button">Previous</button>
            <button id="play-button">Play</button>
            <button id="next-button">Next</button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/player.js') }}"></script>
{% endblock %}